define("@widget/CONTACT/bs-splitLayout-contact-form-0b0231a1.js",["exports","~/c/bs-_rollupPluginBabelHelpers","@wsb/guac-widget-shared@^1/lib/components/Form","~/c/bs-data-aids","~/c/bs-routes","@wsb/guac-widget-shared@^1/lib/common/utils/form"],(function(e,t,o,a,l,r){"use strict";class s extends(global.React||guac.react).Component{constructor(e){super(e),this.state={isFormRevealed:!1},this.isMobile=null,this.toggleFormVisibility=this.toggleFormVisibility.bind(this)}fixWidgetDynamicHeight(e,t){const{isFormRevealed:o}=this.state,a=e.clientHeight,l=o?`${a}px`:"inherit";t.style.height=l,e.style.maxHeight=l}toggleFormVisibility(e){e&&e.preventDefault();const t=!this.state.isFormRevealed;this.setState({isFormRevealed:t});const{formId:o,formContainerId:a,enableFullScreenForm:l,gridLayout:r,hasImage:s,onFormToggle:i}=this.props;i&&i(t);const n=document.getElementById(o),c=document.getElementById(a);if(!n||!c||this.isMobile)return;const g=l&&!this.state.isFormRevealed||!s?{flexBasis:"100%"}:{flexBasis:r?"50%":"auto"};if(r){window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,o=(this.document||this.ownerDocument).querySelectorAll(e),a=this;do{for(t=o.length;--t>=0&&o.item(t)!==a;);}while(t<0&&(a=a.parentElement));return a});const e=n.closest('[data-ux="GridCell"]');Object.keys(g).forEach((t=>{e.style[t]=g[t]}))}else Object.keys(g).forEach((e=>{c.style[e]=g[e]}));setTimeout((()=>this.fixWidgetDynamicHeight(n,c)),500)}renderInnerForm(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{formTitle:s}=this.props,i=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Minor,{style:{marginBottom:"medium",...r.formTitle},"data-aid":a.D.CONTACT_FORM_TITLE_REND,"data-route":l.F.FORM_TITLE,children:s});return(global.React||guac.react).createElement(o.default,t.a({title:i,formFieldVariationOptions:{EMAIL_OPT_IN:{styleOverrides:{justifyContent:"left"}}},useColumnLayout:e,onFormClose:this.toggleFormVisibility,dataAidPrefix:"CONTACT"},this.props))}renderExpandBtn(){let{isMobile:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{formTitle:t}=this.props;return null===this.isMobile&&(this.isMobile=e),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,{tag:"button",style:{marginTop:"medium"},onClick:this.toggleFormVisibility,"data-aid":a.D.CONTACT_FORM_REVEAL_BUTTON_REND,"data-route":l.F.FORM_TITLE,"data-field-route":l.a,children:t})}render(){return null}}s.propTypes={formTitle:(global.PropTypes||guac["prop-types"]).string,formId:(global.PropTypes||guac["prop-types"]).string,formContainerId:(global.PropTypes||guac["prop-types"]).string,enableFullScreenForm:(global.PropTypes||guac["prop-types"]).bool,hasImage:(global.PropTypes||guac["prop-types"]).bool,onFormToggle:(global.PropTypes||guac["prop-types"]).func,gridLayout:(global.PropTypes||guac["prop-types"]).bool,...o.default.propTypes};class i extends s{render(){return this.state.isFormRevealed?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":a.D.CONTACT_FORM_CONTAINER_MOBILE_REND,style:{marginTop:"xlarge"}},this.renderInnerForm(!1,{formTitle:{marginLeft:"medium",marginRight:"medium"}})):this.renderExpandBtn({isMobile:!0})}}const{Z_INDEX_CONTENT:n}=(global.Core||guac["@wsb/guac-widget-core"]).constants.layers;class c extends s{render(){const{formId:e,category:t,formFields:o}=this.props,{useSecondColumn:l,numberOfFieldsOnLeftSide:s}=r.getFieldsBalancingInfo(o),i=r.calculateTotalFieldsWeight(o.slice(0,s)),c={form:{position:"absolute",left:0,top:0,zIndex:n+1,paddingVertical:i>4?"xxlarge":"xxxlarge",transform:this.state.isFormRevealed?"translate3d(0,0,0)":"translate3d(-120%,0,0)",opacity:this.state.isFormRevealed?1:0,transition:"transform .8s ease, opacity .1s",width:"100%",backgroundColor:"section",display:"flex",justifyContent:"center",alignItems:"flex-start",overflowY:"auto"},container:{width:"100%",backgroundColor:"section",paddingHorizontal:"medium",paddingBottom:"medium",maxWidth:l?"1200px":"600px",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center"}};return(global.React||guac.react).createElement("div",null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{id:e,"data-aid":a.D.CONTACT_FORM_CONTAINER_REND,style:c.form,category:t},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:c.container,category:t},this.renderInnerForm(!0))),this.state.isFormRevealed?null:(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,this.renderExpandBtn()))}}c.propTypes={formId:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,formFields:(global.PropTypes||guac["prop-types"]).array};class g extends(global.React||guac.react).Component{render(){if(!this.props.formEnabled)return null;const{category:e,section:t}=this.props,o={container:{position:"relative","@md":{position:"static"}},mobile:{display:"block","@md":{display:"none"}},desktop:{display:"none",height:"inherit","@md":{display:"block"}}};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{category:e,section:t,style:o.container},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":a.D.CONTACT_FORM_CONTAINER_MOBILE,style:o.mobile},(global.React||guac.react).createElement(i,this.props)),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":a.D.CONTACT_FORM_CONTAINER_DESKTOP,style:o.desktop},(global.React||guac.react).createElement(c,this.props)))}}g.propTypes={formEnabled:(global.PropTypes||guac["prop-types"]).bool,category:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object,domainName:(global.PropTypes||guac["prop-types"]).string,formSubmitHost:(global.PropTypes||guac["prop-types"]).string,...c.propTypes},e.default=g,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=bs-splitLayout-contact-form-0b0231a1.js.map
